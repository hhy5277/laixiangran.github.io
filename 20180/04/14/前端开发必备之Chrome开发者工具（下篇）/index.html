<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="#" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="开发工具,Chrome DevTools," />





  <link rel="alternate" href="/atom.xml" title="技术之旅" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="本文介绍的 Chrome 开发者工具基于 Chrome 65版本，如果你的 Chrome 开发者工具没有下文提到的那些内容，请检查下 Chrome 的版本

本文是 前端开发必备之Chrome开发者工具（上篇） 的下篇，废话不多说，直接开始介绍。
网络面板（Network）网络面板记录页面上每个网络操作的相关信息，包括详细的耗时数据、HTTP 请求与响应标头和 Cookie等等。
捕捉屏幕截图N">
<meta property="og:type" content="article">
<meta property="og:title" content="前端开发必备之Chrome开发者工具（下篇）">
<meta property="og:url" content="http://laixiangran.cn/20180/04/14/前端开发必备之Chrome开发者工具（下篇）/index.html">
<meta property="og:site_name" content="技术之旅">
<meta property="og:description" content="本文介绍的 Chrome 开发者工具基于 Chrome 65版本，如果你的 Chrome 开发者工具没有下文提到的那些内容，请检查下 Chrome 的版本

本文是 前端开发必备之Chrome开发者工具（上篇） 的下篇，废话不多说，直接开始介绍。
网络面板（Network）网络面板记录页面上每个网络操作的相关信息，包括详细的耗时数据、HTTP 请求与响应标头和 Cookie等等。
捕捉屏幕截图N">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/E23C96D9BD2A49D5B809F5CF4F6AD813?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/97185036D5CF4047878E19786309B781?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/01F6CF568B344CA1A863956C98492E87?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/06905FB304944D08BD0AD0B0600AF970?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/218DFAEBC01B4EC5929541042F5B45A5?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/C04EFD1D572D4D5D8D9F9B555FFC80EA?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/7E4B6AACA7A0460EAF05ABD8999B2544?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/BA65D18BBC014D97BFCB04C69CF4FD9A?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/D7C30C8E8BAC448D9B6DC3BC0737967A?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/98C1C431D1444AB09C15FDE0015C34B6?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/118A50C910324DABB4C37AC6F663E7B0?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/40BEEB7F56F54CED8340DF5A5028C03F?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/27C7CBD473BE4E658C218592328EFF75?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/FF80CC46CE8D4908AC20CA1633334018?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/E2C6A6A934144ECC86172CCB901B0407?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/DCE031D072D2456C99E6CEB01A8037F5?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/422D8BB10A5349BE8392266EDD035570?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/236D2FCAEB3C4B15A657146FB2E4042D?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/9E69F164A59949068A4125DD35735752?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/5AE75EDD94B746929116072BF40B4ED6?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/DCE413E745044D04B589EB6726E97957?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:image" content="https://note.youdao.com/yws/api/personal/file/0F7A549465AE42F0B403BB83F249E1D2?method=download&shareKey=cb35067568c854b1179977148689e8bb">
<meta property="og:updated_time" content="2018-04-14T11:18:04.706Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端开发必备之Chrome开发者工具（下篇）">
<meta name="twitter:description" content="本文介绍的 Chrome 开发者工具基于 Chrome 65版本，如果你的 Chrome 开发者工具没有下文提到的那些内容，请检查下 Chrome 的版本

本文是 前端开发必备之Chrome开发者工具（上篇） 的下篇，废话不多说，直接开始介绍。
网络面板（Network）网络面板记录页面上每个网络操作的相关信息，包括详细的耗时数据、HTTP 请求与响应标头和 Cookie等等。
捕捉屏幕截图N">
<meta name="twitter:image" content="https://note.youdao.com/yws/api/personal/file/E23C96D9BD2A49D5B809F5CF4F6AD813?method=download&shareKey=cb35067568c854b1179977148689e8bb">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> 前端开发必备之Chrome开发者工具（下篇） | 技术之旅 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">技术之旅</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">摆脱懒惰，实现价值！</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/home" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-heartbeat fa-fw"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                前端开发必备之Chrome开发者工具（下篇）
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="20180-04-14T19:18:02+08:00" content="20180-04-14">
              20180-04-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/开发工具/" itemprop="url" rel="index">
                    <span itemprop="name">开发工具</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          
             <span id="/20180/04/14/前端开发必备之Chrome开发者工具（下篇）/" class="leancloud_visitors" data-flag-title="前端开发必备之Chrome开发者工具（下篇）">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>本文介绍的 Chrome 开发者工具基于 Chrome 65版本，如果你的 Chrome 开发者工具没有下文提到的那些内容，请检查下 Chrome 的版本</p>
</blockquote>
<p>本文是 <a href="http://www.cnblogs.com/laixiangran/p/8777579.html" target="_blank" rel="external">前端开发必备之Chrome开发者工具（上篇）</a> 的下篇，废话不多说，直接开始介绍。</p>
<h2 id="网络面板（Network）"><a href="#网络面板（Network）" class="headerlink" title="网络面板（Network）"></a>网络面板（Network）</h2><p>网络面板记录页面上每个网络操作的相关信息，包括详细的耗时数据、HTTP 请求与响应标头和 Cookie等等。</p>
<h3 id="捕捉屏幕截图"><a href="#捕捉屏幕截图" class="headerlink" title="捕捉屏幕截图"></a>捕捉屏幕截图</h3><p><strong>Network</strong> 面板可以在页面加载期间捕捉屏幕截图。此功能称为幻灯片。</p>
<p>点击 <strong>摄影机</strong> 图标可以启用幻灯片。图标为灰色时，幻灯片处于停用状态 (<img src="https://note.youdao.com/yws/api/personal/file/E23C96D9BD2A49D5B809F5CF4F6AD813?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt="">)。如果图标为蓝色，则说明已启用 (<img src="https://note.youdao.com/yws/api/personal/file/97185036D5CF4047878E19786309B781?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt="">)。</p>
<p>重新加载页面可以捕捉屏幕截图。屏幕截图显示在概览上方。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/01F6CF568B344CA1A863956C98492E87?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>将鼠标悬停在一个屏幕截图上时，<strong>Timeline</strong>将显示一条黄色竖线，指示帧的捕捉时间。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/06905FB304944D08BD0AD0B0600AF970?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>双击屏幕截图可查看放大版本。在屏幕截图处于放大状态时，使用键盘的向左和向右箭头可以在屏幕截图之间导航。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/218DFAEBC01B4EC5929541042F5B45A5?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h3 id="查看-DOMContentLoaded-和-load-事件信息"><a href="#查看-DOMContentLoaded-和-load-事件信息" class="headerlink" title="查看 DOMContentLoaded 和 load 事件信息"></a>查看 DOMContentLoaded 和 load 事件信息</h3><p><strong>Network</strong> 面板突出显示两种事件：<code>DOMContentLoaded</code> 和 <code>load</code>。</p>
<p>解析页面的初始标记时会触发 <code>DOMContentLoaded</code>。 此事件将在 <strong>Network</strong> 面板上的两个地方显示：</p>
<ol>
<li><strong>Overview</strong> 窗格中的蓝色竖线表示事件。</li>
<li>在 <strong>Summary</strong> 窗格中，您可以看到事件的确切时间。</li>
</ol>
<p><img src="https://note.youdao.com/yws/api/personal/file/C04EFD1D572D4D5D8D9F9B555FFC80EA?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>页面完全加载时将触发 <code>load</code>。此事件显示在三个地方：</p>
<ol>
<li><strong>Overview</strong> 窗格中的红色竖线表示事件。</li>
<li><strong>Requests Table</strong> 中的红色竖线也表示事件。</li>
<li>在 <strong>Summary</strong> 窗格中，您可以看到事件的确切时间。</li>
</ol>
<p><img src="https://note.youdao.com/yws/api/personal/file/7E4B6AACA7A0460EAF05ABD8999B2544?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h3 id="导航时保留网络日志"><a href="#导航时保留网络日志" class="headerlink" title="导航时保留网络日志"></a>导航时保留网络日志</h3><p>默认情况下，每当您重新加载当前页面或者加载不同的页面时，网络活动记录会被丢弃。启用 Preserve log 复选框可以在这些情况下保存网络日志。 新记录将附加到 Requests Table 的底部。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/BA65D18BBC014D97BFCB04C69CF4FD9A?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h3 id="查看网络耗时"><a href="#查看网络耗时" class="headerlink" title="查看网络耗时"></a>查看网络耗时</h3><p>要查看 Network 面板中给定条目完整的耗时信息，您有三种选择。</p>
<ol>
<li>将鼠标悬停到 Timeline 列下的耗时图表上。这将呈现一个显示完整耗时数据的弹出窗口。</li>
<li>点击任何条目并打开该条目的 Timing 标签。</li>
<li>使用 Resource Timing API 从 JavaScript 检索原始数据。</li>
</ol>
<p><img src="https://note.youdao.com/yws/api/personal/file/D7C30C8E8BAC448D9B6DC3BC0737967A?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>下面的代码可以在 DevTools 的 Console 中运行。 它将使用 Network Timing API 检索所有资源。 然后，它将通过查找是否存在名称中包含“style.css”的条目对条目进行过滤。 如果找到，将返回相应条目。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">performance.getEntriesByType(<span class="string">'resource'</span>).filter(item =&gt; item.name.includes(<span class="string">"style.css"</span>))</span><br></pre></td></tr></table></figure>
<p><img src="https://note.youdao.com/yws/api/personal/file/98C1C431D1444AB09C15FDE0015C34B6?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h4 id="Queuing"><a href="#Queuing" class="headerlink" title="Queuing"></a>Queuing</h4><p>如果某个请求正在排队，则指示：</p>
<ul>
<li>请求已被渲染引擎推迟，因为该请求的优先级被视为低于关键资源（例如脚本/样式）的优先级。 图像经常发生这种情况。</li>
<li>请求已被暂停，以等待将要释放的不可用 TCP 套接字。</li>
<li>请求已被暂停，因为在 HTTP 1 上，浏览器仅允许每个源拥有六个 TCP 连接。</li>
<li>生成磁盘缓存条目所用的时间（通常非常迅速）</li>
</ul>
<h4 id="Stalled-Blocking"><a href="#Stalled-Blocking" class="headerlink" title="Stalled/Blocking"></a>Stalled/Blocking</h4><p>请求等待发送所用的时间。 可以是等待 Queueing 中介绍的任何一个原因。 此外，此时间包含代理协商所用的任何时间。</p>
<h4 id="Proxy-Negotiation"><a href="#Proxy-Negotiation" class="headerlink" title="Proxy Negotiation"></a>Proxy Negotiation</h4><p>与代理服务器连接协商所用的时间。</p>
<h4 id="DNS-Lookup"><a href="#DNS-Lookup" class="headerlink" title="DNS Lookup"></a>DNS Lookup</h4><p>执行 DNS 查询所用的时间。 页面上的每一个新域都需要完整的往返才能执行 DNS 查询。</p>
<h4 id="Initial-Connection-Connecting"><a href="#Initial-Connection-Connecting" class="headerlink" title="Initial Connection / Connecting"></a>Initial Connection / Connecting</h4><p>建立连接所用的时间，包括 TCP 握手/重试和协商 SSL 的时间。</p>
<h4 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h4><p>完成 SSL 握手所用的时间。</p>
<h4 id="Request-Sent-Sending"><a href="#Request-Sent-Sending" class="headerlink" title="Request Sent / Sending"></a>Request Sent / Sending</h4><p>发出网络请求所用的时间。 通常不到一毫秒。</p>
<h4 id="Waiting-TTFB"><a href="#Waiting-TTFB" class="headerlink" title="Waiting (TTFB)"></a>Waiting (TTFB)</h4><p>等待初始响应所用的时间，也称为至第一字节的时间。 此时间将捕捉到服务器往返的延迟时间，以及等待服务器传送响应所用的时间。</p>
<h4 id="Content-Download-Downloading"><a href="#Content-Download-Downloading" class="headerlink" title="Content Download / Downloading"></a>Content Download / Downloading</h4><p>接收响应数据所用的时间。</p>
<h3 id="诊断网络问题"><a href="#诊断网络问题" class="headerlink" title="诊断网络问题"></a>诊断网络问题</h3><p>通过 Network 面板可以发现大量可能的问题。查找这些问题需要很好地了解客户端与服务器如何通信，以及协议施加的限制。</p>
<h4 id="已被加入队列或已被停止的系列"><a href="#已被加入队列或已被停止的系列" class="headerlink" title="已被加入队列或已被停止的系列"></a>已被加入队列或已被停止的系列</h4><p>最常见问题是一系列已被加入队列或已被停止的条目。这表明正在从单个网域检索太多的资源。在 HTTP 1.0/1.1 连接上，Chrome 会将每个主机强制设置为最多六个 TCP 连接。如果您一次请求十二个条目，前六个将开始，而后六个将被加入队列。最初的一半完成后，队列中的第一个条目将开始其请求流程。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/118A50C910324DABB4C37AC6F663E7B0?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>要为传统的 HTTP 1 流量解决此问题，您需要实现<a href="https://www.maxcdn.com/one/visual-glossary/domain-sharding-2/" target="_blank" rel="external">域分片</a>。也就是在您的应用上设置多个子域，以便提供资源。然后，在子域之间平均分配正在提供的资源。</p>
<p>HTTP 1 连接的修复结果不会应用到 HTTP 2 连接上。事实上，前者的结果会影响后者。 如果您部署了 HTTP 2，请不要对您的资源进行域分片，因为它与 HTTP 2 的操作方式相反。在 HTTP 2 中，到服务器的单个 TCP 连接作为多路复用连接。这消除了 HTTP 1 中的六个连接限制，并且可以通过单个连接同时传输多个资源。</p>
<h4 id="至第一字节的漫长时间"><a href="#至第一字节的漫长时间" class="headerlink" title="至第一字节的漫长时间"></a>至第一字节的漫长时间</h4><p>又称：大片绿色</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/40BEEB7F56F54CED8340DF5A5028C03F?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>等待时间长表示至第一字节的时间 (TTFB) 漫长。建议将此值控制在 200 毫秒以下。长 TTFB 会揭示两个主要问题之一。</p>
<ol>
<li>客户端与服务器之间的网络条件较差</li>
<li>服务器应用的响应慢</li>
</ol>
<p>要解决长 TTFB，首先请尽可能缩减网络。理想的情况是将应用托管在本地，然后查看 TTFB 是否仍然很长。如果仍然很长，则需要优化应用的响应速度。可以是优化数据库查询、为特定部分的内容实现缓存，或者修改您的网络服务器配置。很多原因都可能导致后端缓慢。您需要调查您的软件并找出未满足您的性能预算的内容。</p>
<p>如果本地托管后 TTFB 仍然漫长，那么问题出在您的客户端与服务器之间的网络上。很多事情都可以阻止网络遍历。客户端与服务器之间有许多点，每个点都有其自己的连接限制并可能引发问题。测试时间是否缩短的最简单方法是将您的应用置于其他主机上，并查看 TTFB 是否有所改善。</p>
<h4 id="达到吞吐量能力"><a href="#达到吞吐量能力" class="headerlink" title="达到吞吐量能力"></a>达到吞吐量能力</h4><p>又称：大片蓝色</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/27C7CBD473BE4E658C218592328EFF75?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>如果您看到 Content Download 阶段花费了大量时间，则提高服务器响应或串联不会有任何帮助。首要的解决办法是减少发送的字节数。</p>
<h4 id="模拟网络连接"><a href="#模拟网络连接" class="headerlink" title="模拟网络连接"></a>模拟网络连接</h4><p>利用网络调节，您可以在不同的网络连接（包括 Edge、3G，甚至离线）下测试网站。这样可以限制出现最大的下载和上传吞吐量（数据传输速率）。延迟时间操控会强制连接往返时间 (RTT) 出现最小延迟。</p>
<p>可以通过 Network 面板开启网络调节。从下拉菜单中选择要应用网络节流和延迟时间操控的连接。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/FF80CC46CE8D4908AC20CA1633334018?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h2 id="性能面板（Performance）"><a href="#性能面板（Performance）" class="headerlink" title="性能面板（Performance）"></a>性能面板（Performance）</h2><p>使用 Chrome DevTools 的 Timeline 面板可以记录和分析您的应用在运行时的所有活动。 这里是开始调查应用中可觉察性能问题的最佳位置。</p>
<h3 id="面板概览"><a href="#面板概览" class="headerlink" title="面板概览"></a>面板概览</h3><p>Timeline 面板包含以下四个窗格：</p>
<ol>
<li>Controls。开始记录，停止记录和配置记录期间捕获的信息。</li>
<li>Overview。 页面性能的高级汇总。更多内容请参见下文。</li>
<li>火焰图。 CPU 堆叠追踪的可视化。<br>您可以在火焰图上看到一到三条垂直的虚线。蓝线代表 DOMContentLoaded 事件。 绿线代表首次绘制的时间。 红线代表 load 事件。</li>
<li>Details。选择事件后，此窗格会显示与该事件有关的更多信息。 未选择事件时，此窗格会显示选定时间范围的相关信息。</li>
</ol>
<p><img src="https://note.youdao.com/yws/api/personal/file/E2C6A6A934144ECC86172CCB901B0407?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h4 id="Overview-窗格"><a href="#Overview-窗格" class="headerlink" title="Overview 窗格"></a>Overview 窗格</h4><p>Overview 窗格包含以下三个图表：</p>
<ol>
<li>FPS。每秒帧数。绿色竖线越高，FPS 越高。 FPS 图表上的红色块表示长时间帧，很可能会出现卡顿。<br>2.CPU。 CPU 资源。此面积图指示消耗 CPU 资源的事件类型。</li>
<li>NET。每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间）。</li>
</ol>
<p>深色部分表示传输时间（下载第一个和最后一个字节之间的时间）。</p>
<p>横杠按照以下方式进行彩色编码：</p>
<ul>
<li>HTML 文件为蓝色。</li>
<li>脚本为黄色。</li>
<li>样式表为紫色。</li>
<li>媒体文件为绿色。</li>
<li>其他资源为灰色。</li>
</ul>
<p><img src="https://note.youdao.com/yws/api/personal/file/DCE031D072D2456C99E6CEB01A8037F5?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h2 id="内存面板（Memory）"><a href="#内存面板（Memory）" class="headerlink" title="内存面板（Memory）"></a>内存面板（Memory）</h2><p>该面板主要能做：</p>
<ul>
<li>使用 Chrome 的任务管理器了解您的页面当前正在使用的内存量。</li>
<li>使用 Timeline 记录可视化一段时间内的内存使用。</li>
<li>使用堆快照确定已分离的 DOM 树（内存泄漏的常见原因）。</li>
<li>使用分配时间线记录了解新内存在 JS 堆中的分配时间。</li>
</ul>
<h2 id="应用面板（Application）"><a href="#应用面板（Application）" class="headerlink" title="应用面板（Application）"></a>应用面板（Application）</h2><p>该面板主要能做：</p>
<ul>
<li>查看和修改本地存储与会话存储。</li>
<li>检查和修改 IndexedDB 数据库。</li>
<li>对 Web SQL 数据库执行语句。</li>
<li>查看应用缓存和服务工作线程缓存。</li>
<li>点击一次按钮即可清除所有存储、数据库、缓存和服务工作线程。</li>
</ul>
<h2 id="安全面板（Security）"><a href="#安全面板（Security）" class="headerlink" title="安全面板（Security）"></a>安全面板（Security）</h2><p>该面板主要能做：</p>
<ul>
<li>使用 Security Overview 可以立即查看当前页面是否安全。</li>
<li>检查各个源以查看连接和证书详情（安全源）或找出具体哪些请求未受保护（非安全源）。</li>
</ul>
<h3 id="检查源"><a href="#检查源" class="headerlink" title="检查源"></a>检查源</h3><p>使用左侧面板可以检查各个安全或非安全源。</p>
<p>点击安全源查看该源的连接和证书详情。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/422D8BB10A5349BE8392266EDD035570?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>如果您点击非安全源，Security 面板会提供 Network 面板过滤视图的链接。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/236D2FCAEB3C4B15A657146FB2E4042D?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>点击链接可以查看具体是源的哪些请求通过 HTTP 提供。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/9E69F164A59949068A4125DD35735752?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<h2 id="主菜单（Customize-and-control-DevTools）"><a href="#主菜单（Customize-and-control-DevTools）" class="headerlink" title="主菜单（Customize and control DevTools）"></a>主菜单（Customize and control DevTools）</h2><h3 id="模拟传感器：地理定位与加速度计"><a href="#模拟传感器：地理定位与加速度计" class="headerlink" title="模拟传感器：地理定位与加速度计"></a>模拟传感器：地理定位与加速度计</h3><p>由于大多数桌面设备都没有 GPS 芯片和加速度计，所以测试它们比较困难。Chrome DevTools 的 Sensors 模拟窗格可以通过模拟常见的移动设备传感器来降低测试的开销。</p>
<ul>
<li>模拟地理定位坐标以测试地理定位替换值。</li>
<li>模拟设备方向以测试加速度计数据。</li>
</ul>
<p>要访问 Chrome DevTools 传感器控件，请执行以下操作：</p>
<ol>
<li>打开 DevTools 主菜单</li>
<li>在 More Tools 菜单下，点击 Sensors</li>
</ol>
<p><img src="https://note.youdao.com/yws/api/personal/file/5AE75EDD94B746929116072BF40B4ED6?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>注：如果您的应用检测到使用 JavaScript（如 Modernizr）的传感器加载，请确保在启用传感器模拟器之后重新加载页面。</p>
<h3 id="替换地理定位数据"><a href="#替换地理定位数据" class="headerlink" title="替换地理定位数据"></a>替换地理定位数据</h3><p>与桌面设备不同，移动设备通常使用 GPS 硬件检测位置。在 Sensors 窗格中，您可以模拟地理定位坐标，以便与 Geolocation API 结合使用。</p>
<p>在模拟抽屉式导航栏的 Sensors 窗格中选中 Emulate geolocation coordinates 复选框，启用地理定位模拟。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/DCE413E745044D04B589EB6726E97957?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>您可以使用此模拟器替换 navigator.geolocation 的位置值，并在地理定位数据不可用时模拟用例。</p>
<h3 id="模拟加速度计（设备方向）"><a href="#模拟加速度计（设备方向）" class="headerlink" title="模拟加速度计（设备方向）"></a>模拟加速度计（设备方向）</h3><p>要测试来自 Orientation API 的加速度计数据，请在 Sensors 窗格中选中 Accelerometer 复选框，启用加速度计模拟器。</p>
<p><img src="https://note.youdao.com/yws/api/personal/file/0F7A549465AE42F0B403BB83F249E1D2?method=download&amp;shareKey=cb35067568c854b1179977148689e8bb" alt=""></p>
<p>您可以操作下列方向参数：</p>
<ul>
<li>α：围绕 Z 轴旋转。</li>
<li>β：左右倾斜。</li>
<li>γ：前后倾斜。</li>
</ul>
<p>您也可以点击模型加速度计并将其拖动到所需方向。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Chrome开发者工具是一个非常强大的工具，灵活使用将让你在前端调试中事半功倍。</p>
<p>这两篇文章只是整理的一些我平时常用的功能，还有很多的功能等着我们去挖掘。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://developers.google.com/web/tools/chrome-devtools/" target="_blank" rel="external">https://developers.google.com/web/tools/chrome-devtools/</a></p>

      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/开发工具/" rel="tag">#开发工具</a>
          
            <a href="/tags/Chrome-DevTools/" rel="tag">#Chrome DevTools</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/20180/04/10/前端开发必备之Chrome开发者工具（上篇）/" rel="next" title="前端开发必备之Chrome开发者工具（上篇）">
                <i class="fa fa-chevron-left"></i> 前端开发必备之Chrome开发者工具（上篇）
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/20180/04/17/前端开发必备之chrome插件/" rel="prev" title="前端开发必备之chrome插件">
                前端开发必备之chrome插件 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" style="border-radius:50px" itemprop="image"
               src="/images/avatar.JPG"
               alt="赖祥燃" />
          <p class="site-author-name" itemprop="name">赖祥燃</p>
          <p class="site-description motion-element" itemprop="description">摆脱懒惰，实现价值！</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">40</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">25</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/laixiangran" target="_blank">
                  
                    <i class="fa fa-github"></i> gitHub
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/laixiangran" target="_blank">
                  
                    <i class="fa fa-weibo"></i> weibo
                  
                </a>
              </span>
            
          
        </div>

        <div>
          <h3>订阅号</h3>
          <p>
            <img width="150" src="/images/subscription.jpg" alt="订阅号" />
          </p>
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#网络面板（Network）"><span class="nav-number">1.</span> <span class="nav-text">网络面板（Network）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#捕捉屏幕截图"><span class="nav-number">1.1.</span> <span class="nav-text">捕捉屏幕截图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看-DOMContentLoaded-和-load-事件信息"><span class="nav-number">1.2.</span> <span class="nav-text">查看 DOMContentLoaded 和 load 事件信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导航时保留网络日志"><span class="nav-number">1.3.</span> <span class="nav-text">导航时保留网络日志</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查看网络耗时"><span class="nav-number">1.4.</span> <span class="nav-text">查看网络耗时</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Queuing"><span class="nav-number">1.4.1.</span> <span class="nav-text">Queuing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Stalled-Blocking"><span class="nav-number">1.4.2.</span> <span class="nav-text">Stalled/Blocking</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Proxy-Negotiation"><span class="nav-number">1.4.3.</span> <span class="nav-text">Proxy Negotiation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DNS-Lookup"><span class="nav-number">1.4.4.</span> <span class="nav-text">DNS Lookup</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Initial-Connection-Connecting"><span class="nav-number">1.4.5.</span> <span class="nav-text">Initial Connection / Connecting</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SSL"><span class="nav-number">1.4.6.</span> <span class="nav-text">SSL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Request-Sent-Sending"><span class="nav-number">1.4.7.</span> <span class="nav-text">Request Sent / Sending</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Waiting-TTFB"><span class="nav-number">1.4.8.</span> <span class="nav-text">Waiting (TTFB)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Content-Download-Downloading"><span class="nav-number">1.4.9.</span> <span class="nav-text">Content Download / Downloading</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#诊断网络问题"><span class="nav-number">1.5.</span> <span class="nav-text">诊断网络问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#已被加入队列或已被停止的系列"><span class="nav-number">1.5.1.</span> <span class="nav-text">已被加入队列或已被停止的系列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#至第一字节的漫长时间"><span class="nav-number">1.5.2.</span> <span class="nav-text">至第一字节的漫长时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#达到吞吐量能力"><span class="nav-number">1.5.3.</span> <span class="nav-text">达到吞吐量能力</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模拟网络连接"><span class="nav-number">1.5.4.</span> <span class="nav-text">模拟网络连接</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#性能面板（Performance）"><span class="nav-number">2.</span> <span class="nav-text">性能面板（Performance）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#面板概览"><span class="nav-number">2.1.</span> <span class="nav-text">面板概览</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Overview-窗格"><span class="nav-number">2.1.1.</span> <span class="nav-text">Overview 窗格</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内存面板（Memory）"><span class="nav-number">3.</span> <span class="nav-text">内存面板（Memory）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#应用面板（Application）"><span class="nav-number">4.</span> <span class="nav-text">应用面板（Application）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安全面板（Security）"><span class="nav-number">5.</span> <span class="nav-text">安全面板（Security）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#检查源"><span class="nav-number">5.1.</span> <span class="nav-text">检查源</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#主菜单（Customize-and-control-DevTools）"><span class="nav-number">6.</span> <span class="nav-text">主菜单（Customize and control DevTools）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#模拟传感器：地理定位与加速度计"><span class="nav-number">6.1.</span> <span class="nav-text">模拟传感器：地理定位与加速度计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#替换地理定位数据"><span class="nav-number">6.2.</span> <span class="nav-text">替换地理定位数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模拟加速度计（设备方向）"><span class="nav-number">6.3.</span> <span class="nav-text">模拟加速度计（设备方向）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">7.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">8.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">赖祥燃</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  



  
  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/MathJax.js"></script>
    <script type="text/javascript" src="http://cdn.staticfile.org/mathjax/2.4.0/config/TeX-AMS-MML_HTMLorMML.js"></script>
  


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("6xJVpf5gTHLAExBtuOoLwLVd-gzGzoHsz", "H6gG2pBMb9d9EE3kWTW1pfMI");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


</body>
</html>
